<div class="w-100">
    <div class="row">
        <div class="col-md-3">
            <label for="categoria">Area</label>
            <ng-select name="categoria" [(ngModel)]="areaselected">
                <ng-option [value]="''">All</ng-option>
                <ng-option *ngFor="let item of areas" [value]="item.area">{{item.area}}</ng-option>
            </ng-select>
        </div>
        <div class="col-md-3">
            <label for="">Estado</label>
            <ng-select  [searchable]="false" name="estado" [(ngModel)]="estateselected">
                <ng-option value="">All</ng-option>
                <ng-option value="activo">Activo</ng-option>
                <ng-option value="baja">Baja</ng-option>
            </ng-select>
        </div>
        <div class="col-md-3">
            <label for="">Rol</label>
            <ng-select  [searchable]="false" name="rol" [(ngModel)]="rolselected">
                <ng-option value="">All</ng-option>
                <ng-option value="administrador">Administrador</ng-option>
                <ng-option value="usuario">Usuario</ng-option>
            </ng-select>
        </div>
        <div class="col-md-2">
            <br>
            <button pButton label="Buscar" (click)="searchProduct()" icon="pi pi-search"></button>
        </div>
    </div>
    <div class="w-100  d-flex justify-content-between p-2 text-white mt-3 border-2 bg-primary"  >
        <div class="spinner" >
           <ng-container class="" *ngIf="spinner">
            cargando
           </ng-container>
        </div>
        <div>
            <i class="pi pi-file-excel p-1 r2 bg-success mx-1 cursor-pointer"  pTooltip="Descargar excel" (click)="exportExcel()" tooltipPosition="bottom"></i>
            <i class="pi pi-file-pdf p-1 r2 bg-warning mx-1 cursor-pointer" pTooltip="Descargar pdf" (click)="exportPdf()"  tooltipPosition="bottom" ></i>
        </div>
    </div>
    <ng-container *ngIf="!loadingdata && search" >
    <p-table [value]="users" styleClass="p-datatable-sm"  responsiveLayout="scroll" scrollHeight="400px" >
        <ng-template pTemplate="header">
            <tr>
                <th>Nombres</th>
                <th class="px-5">
                    Apellidos
                </th>
                <th>Area</th>
                <th >
                    Correo
                </th>
                <th>Dni</th>
                <th>rol</th>
                <th>
                    Estado
                </th>
            </tr>
        </ng-template>
        <ng-template pTemplate="body" let-user let-ri="rowIndex">
                <tr>
                    <td>{{user.nombres}}</td>
                    <td class="px-5">
                        {{user.apellidos}}
                    </td>
                    <td>{{user.area}}</td>
                    <td>{{user.correo}}</td>
                    <td>{{user.dni}}</td>
                    <td>{{user.rol}}</td>
                    <td class="text-black">
                    {{user.estado}}   
                    </td>
                    
                </tr>
        </ng-template>
    </p-table>
</ng-container>

</div>